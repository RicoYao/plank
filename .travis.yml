language: generic
sudo: required
dist: trusty
os:
  - osx
  - linux
osx_image: xcode10
install:
    - eval "$(curl -sL https://swiftenv.fuller.li/install.sh)"
jobs:
    include:
          script: "make test"
        - stage: integration
          script: "make integration_test"

stages:
    - test
    - name: integration
      if: os = osx
